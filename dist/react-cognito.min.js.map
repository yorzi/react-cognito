{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///react-cognito.min.js","webpack:///webpack/bootstrap 0e4eedd1800161d0ee35","webpack:///./src/index.js","webpack:///./src/actions.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"ReactRedux\",\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\"}","webpack:///./src/attributes.js","webpack:///./src/auth.js","webpack:///./src/states.js","webpack:///external {\"root\":\"AmazonCognitoIdentity\",\"commonjs2\":\"amazon-cognito-identity-js\",\"commonjs\":\"amazon-cognito-identity-js\",\"amd\":\"amazon-cognito-identity-js\"}","webpack:///./src/utils.js","webpack:///./src/Confirm.jsx","webpack:///./src/EmailVerification.jsx","webpack:///./src/Login.jsx","webpack:///./src/Logout.jsx","webpack:///./src/NewPasswordRequired.jsx","webpack:///./src/PasswordReset.jsx","webpack:///./src/guard.js","webpack:///./src/policy.js","webpack:///./src/reducers.js","webpack:///external {\"root\":\"AWS\",\"commonjs\":\"aws-sdk\",\"commonjs2\":\"aws-sdk\",\"amd\":\"aws-sdk\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_18__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Object","defineProperty","value","_reducers","keys","forEach","key","enumerable","get","_actions","_states","_utils","_guard","_auth","_attributes","_policy","_Login","_Logout","_NewPasswordRequired","_EmailVerification","_PasswordReset","_Confirm","Action","configure","config","type","authenticated","user","loggingIn","attributes","login","creds","logout","partialLogout","loginFailure","error","mfaRequired","newPasswordRequired","newPasswordRequiredFailure","emailVerificationRequired","emailVerificationFailed","beginPasswordResetFlow","continuePasswordResetFlow","finishPasswordResetFlow","updateAttributes","confirmationRequired","email","confirmFailed","clearCache","mkAttrList","getUserAttributes","sendAttributeVerificationCode","undefined","attribute","Promise","resolve","reject","getAttributeVerificationCode","onSuccess","inputVerificationCode","onFailure","message","result","i","length","name","getName","getValue","map","Name","Value","attributeList","err","emailVerificationFlow","registerUser","performLogin","authenticate","_amazonCognitoIdentityJs","_awsSdk","then","required","refreshIdentityCredentials","username","jwtToken","logins","buildLogins","CognitoIdentityCredentials","refresh","getSession","session","getIdToken","getJwtToken","getUsername","password","userPool","dispatch","AuthenticationDetails","Username","Password","CognitoUser","Pool","authenticateUser","code","signUp","userConfirmed","CognitoState","LOGGED_OUT","AUTHENTICATED","LOGGING_IN","LOGGED_IN","NEW_PASSWORD_REQUIRED","MFA_REQUIRED","EMAIL_VERIFICATION_REQUIRED","CONFIRMATION_REQUIRED","changePassword","oldPassword","newPassword","loginDomain","region","loginUrl","IdentityPoolId","identityPool","Logins","LoginId","_interopRequireDefault","obj","__esModule","default","Confirm","_react","_react2","_reactRedux","BaseConfirm","props","cloneElement","children","onSubmit","onResend","onCancel","confirm","verificationCode","confirmRegistration","resend","resendConfirmationCode","mapStateToProps","state","cognito","mapDispatchToProps","confirmPartial","onResendPartial","mergeProps","stateProps","dispatchProps","ownProps","assign","connect","EmailVerification","verifyEmail","BaseEmailVerification","verifyAttribute","verifyPartial","Login","BaseLogin","userName","cache","authenticator","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","writable","configurable","setPrototypeOf","__proto__","Logout","_createClass","defineProperties","target","descriptor","protoProps","staticProps","_React$Component","_ref","_temp","_this","_ret","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","onClick","event","store","context","getState","signOut","preventDefault","onLogout","Component","contextTypes","PropTypes","object","propTypes","any","isRequired","func","defaultProps","NewPasswordRequired","BaseNewPasswordRequired","setNewPassword","userAttributes","completeNewPasswordChallenge","setNewPasswordPartial","PasswordReset","BasePasswordReset","sendVerificationCode","setPassword","getUser","confirmPassword","forgotPassword","sendVerificationCodePartial","setPasswordPartial","testLoggedIn","wantLoggedIn","isLoggedIn","permitted","expr","loggedIn","guard","forbiddenUrl","replace","callback","dest","allow","createGuard","identityPoolLogin","fetchAttributes","direct","enable","setupCognito","f","subscribe","email_verified","initial","clientId","action","AWS","pool","CognitoUserPool","UserPoolId","ClientId","getCurrentUser","addAttributes","s","s2"],"mappings":"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","file":"react-cognito.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-redux\"), require(\"amazon-cognito-identity-js\"), require(\"aws-sdk\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-redux\", \"amazon-cognito-identity-js\", \"aws-sdk\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCognito\"] = factory(require(\"react\"), require(\"react-redux\"), require(\"amazon-cognito-identity-js\"), require(\"aws-sdk\"));\n\telse\n\t\troot[\"ReactCognito\"] = factory(root[\"React\"], root[\"ReactRedux\"], root[\"AmazonCognitoIdentity\"], root[\"AWS\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_18__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-redux\"), require(\"amazon-cognito-identity-js\"), require(\"aws-sdk\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-redux\", \"amazon-cognito-identity-js\", \"aws-sdk\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCognito\"] = factory(require(\"react\"), require(\"react-redux\"), require(\"amazon-cognito-identity-js\"), require(\"aws-sdk\"));\n\telse\n\t\troot[\"ReactCognito\"] = factory(root[\"React\"], root[\"ReactRedux\"], root[\"AmazonCognitoIdentity\"], root[\"AWS\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_18__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _reducers = __webpack_require__(17);\n\t\n\tObject.keys(_reducers).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _reducers[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tObject.keys(_actions).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _actions[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _states = __webpack_require__(6);\n\t\n\tObject.keys(_states).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _states[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _utils = __webpack_require__(8);\n\t\n\tObject.keys(_utils).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _utils[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _guard = __webpack_require__(15);\n\t\n\tObject.keys(_guard).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _guard[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _auth = __webpack_require__(5);\n\t\n\tObject.keys(_auth).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _auth[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _attributes = __webpack_require__(4);\n\t\n\tObject.keys(_attributes).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _attributes[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _policy = __webpack_require__(16);\n\t\n\tObject.keys(_policy).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _policy[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _Login = __webpack_require__(11);\n\t\n\tObject.keys(_Login).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _Login[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _Logout = __webpack_require__(12);\n\t\n\tObject.keys(_Logout).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _Logout[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _NewPasswordRequired = __webpack_require__(13);\n\t\n\tObject.keys(_NewPasswordRequired).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _NewPasswordRequired[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _EmailVerification = __webpack_require__(10);\n\t\n\tObject.keys(_EmailVerification).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _EmailVerification[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _PasswordReset = __webpack_require__(14);\n\t\n\tObject.keys(_PasswordReset).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _PasswordReset[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _Confirm = __webpack_require__(9);\n\t\n\tObject.keys(_Confirm).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _Confirm[key];\n\t    }\n\t  });\n\t});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * container for all the actions\n\t*/\n\tvar Action = {\n\t\n\t  configure: function configure(config) {\n\t    return {\n\t      type: 'COGNITO_CONFIGURE',\n\t      config: config\n\t    };\n\t  },\n\t\n\t  authenticated: function authenticated(user) {\n\t    return {\n\t      type: 'COGNITO_AUTHENTICATED',\n\t      user: user\n\t    };\n\t  },\n\t\n\t  loggingIn: function loggingIn(attributes) {\n\t    return {\n\t      type: 'COGNITO_LOGGING_IN',\n\t      attributes: attributes\n\t    };\n\t  },\n\t\n\t  login: function login(creds) {\n\t    return {\n\t      type: 'COGNITO_LOGIN',\n\t      creds: creds\n\t    };\n\t  },\n\t\n\t  logout: function logout() {\n\t    return {\n\t      type: 'COGNITO_LOGOUT'\n\t    };\n\t  },\n\t\n\t  partialLogout: function partialLogout() {\n\t    return {\n\t      type: 'COGNITO_PARTIAL_LOGOUT'\n\t    };\n\t  },\n\t\n\t  loginFailure: function loginFailure(user, error) {\n\t    return {\n\t      type: 'COGNITO_LOGIN_FAILURE',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  mfaRequired: function mfaRequired(user) {\n\t    return {\n\t      type: 'COGNITO_LOGIN_MFA_REQUIRED',\n\t      user: user\n\t    };\n\t  },\n\t\n\t  newPasswordRequired: function newPasswordRequired(user) {\n\t    return {\n\t      type: 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED',\n\t      user: user\n\t    };\n\t  },\n\t\n\t  newPasswordRequiredFailure: function newPasswordRequiredFailure(user, error) {\n\t    return {\n\t      type: 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  emailVerificationRequired: function emailVerificationRequired(attributes) {\n\t    return {\n\t      type: 'COGNITO_EMAIL_VERIFICATION_REQUIRED',\n\t      attributes: attributes\n\t    };\n\t  },\n\t\n\t  emailVerificationFailed: function emailVerificationFailed(user, error) {\n\t    return {\n\t      type: 'COGNITO_EMAIL_VERIFICATION_FAILED',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  beginPasswordResetFlow: function beginPasswordResetFlow(user, error) {\n\t    return {\n\t      type: 'COGNITO_BEGIN_PASSWORD_RESET_FLOW',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  continuePasswordResetFlow: function continuePasswordResetFlow(user) {\n\t    return {\n\t      type: 'COGNITO_CONTINUE_PASSWORD_RESET_FLOW',\n\t      user: user\n\t    };\n\t  },\n\t\n\t  finishPasswordResetFlow: function finishPasswordResetFlow(error) {\n\t    return {\n\t      type: 'COGNITO_FINISH_PASSWORD_RESET_FLOW',\n\t      error: error\n\t    };\n\t  },\n\t\n\t  updateAttributes: function updateAttributes(attributes) {\n\t    return {\n\t      type: 'COGNITO_UPDATE_USER_ATTRIBUTES',\n\t      attributes: attributes\n\t    };\n\t  },\n\t\n\t  confirmationRequired: function confirmationRequired(user, email) {\n\t    return {\n\t      type: 'COGNITO_USER_UNCONFIRMED',\n\t      user: user,\n\t      email: email\n\t    };\n\t  },\n\t\n\t  confirmFailed: function confirmFailed(user, error) {\n\t    return {\n\t      type: 'COGNITO_USER_CONFIRM_FAILED',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  clearCache: function clearCache() {\n\t    return {\n\t      type: 'COGNITO_CLEAR_CACHE'\n\t    };\n\t  }\n\t};\n\t\n\texports.Action = Action;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.mkAttrList = exports.updateAttributes = exports.getUserAttributes = exports.sendAttributeVerificationCode = undefined;\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\t/**\n\t * Request that a verification code is sent by email or SMS to verify\n\t * an attribute\n\t * @param {object} user - the cognito user object\n\t * @param {string} attribute - the attribute name\n\t*/\n\tvar sendAttributeVerificationCode = function sendAttributeVerificationCode(user, attribute) {\n\t  return new Promise(function (resolve, reject) {\n\t    user.getAttributeVerificationCode(attribute, {\n\t      onSuccess: function onSuccess() {\n\t        return resolve(false);\n\t      },\n\t      inputVerificationCode: function inputVerificationCode() {\n\t        return resolve(true);\n\t      },\n\t      onFailure: function onFailure(error) {\n\t        return reject(error.message);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * Fetches the user attributes from Cognito, and turns them into\n\t * an object\n\t * @param {object} user - the cognito user object\n\t * @returns {Promise} resolves with the attributes or rejects with an error message\n\t*/\n\tvar getUserAttributes = function getUserAttributes(user) {\n\t  return new Promise(function (resolve, reject) {\n\t    return user.getUserAttributes(function (error, result) {\n\t      if (error) {\n\t        reject(error.message);\n\t      } else {\n\t        var attributes = {};\n\t        for (var i = 0; i < result.length; i += 1) {\n\t          var name = result[i].getName();\n\t          var value = result[i].getValue();\n\t          attributes[name] = value;\n\t        }\n\t        resolve(attributes);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * convert an attribute dictionary to an attribute list\n\t * @param {object} attributes - a dictionary of attributes\n\t * @return {array} AWS expected attribute list\n\t*/\n\tvar mkAttrList = function mkAttrList(attributes) {\n\t  return Object.keys(attributes).map(function (key) {\n\t    return {\n\t      Name: key,\n\t      Value: attributes[key]\n\t    };\n\t  });\n\t};\n\t\n\t/**\n\t * update the attributes in Cognito\n\t * @param {object} user - the CognitoUser object\n\t * @param {object} attributes - an attributes dictionary with the attributes to be updated\n\t * @return {Promise<object>} a promise that resolves to a redux action\n\t*/\n\tvar updateAttributes = function updateAttributes(user, attributes) {\n\t  return new Promise(function (resolve, reject) {\n\t    var attributeList = mkAttrList(attributes);\n\t    user.updateAttributes(attributeList, function (err) {\n\t      if (err) {\n\t        reject(err.message);\n\t      } else {\n\t        resolve(_actions.Action.updateAttributes(attributes));\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\texports.sendAttributeVerificationCode = sendAttributeVerificationCode;\n\texports.getUserAttributes = getUserAttributes;\n\texports.updateAttributes = updateAttributes;\n\texports.mkAttrList = mkAttrList;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.emailVerificationFlow = exports.registerUser = exports.performLogin = exports.authenticate = undefined;\n\t\n\tvar _amazonCognitoIdentityJs = __webpack_require__(7);\n\t\n\tvar _awsSdk = __webpack_require__(18);\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tvar _attributes = __webpack_require__(4);\n\t\n\tvar _utils = __webpack_require__(8);\n\t\n\t/**\n\t * sends the email verification code and transitions to the correct state\n\t * @param {object} user - the CognitoUser object\n\t * @param {object} attributes - the attributes dictionary\n\t * @return {Promise<object>} a promise that resolves to a redux action\n\t*/\n\tvar emailVerificationFlow = function emailVerificationFlow(user, attributes) {\n\t  return new Promise(function (resolve) {\n\t    return (0, _attributes.sendAttributeVerificationCode)(user, 'email').then(function (required) {\n\t      if (required) {\n\t        resolve(_actions.Action.emailVerificationRequired(attributes));\n\t      } else {\n\t        // dead end?\n\t        resolve(_actions.Action.loggingIn(attributes));\n\t      }\n\t    }, function (error) {\n\t      // some odd classes of error here\n\t      resolve(_actions.Action.emailVerificationFailed(error, attributes));\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * logs in to the federated identity pool with a JWT\n\t * @param {string} username - the username\n\t * @param {string} jwtToken - a token from the session\n\t * @param {object} config - the react-cognito config\n\t * @return {Promise<object>} a promise that resolves to the federated identity credentials\n\t*/\n\tvar refreshIdentityCredentials = function refreshIdentityCredentials(username, jwtToken, config) {\n\t  return new Promise(function (resolve, reject) {\n\t    var logins = (0, _utils.buildLogins)(username, jwtToken, config);\n\t    var creds = new _awsSdk.CognitoIdentityCredentials(logins);\n\t    creds.refresh(function (error) {\n\t      if (error) {\n\t        reject(error.message);\n\t      } else {\n\t        resolve(creds);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * establishes a session with the user pool, and logs into the federated identity\n\t * pool using a token from the session\n\t * @param {object} user - the CognitoUser object\n\t * @param {object} config -the react-cognito config\n\t * @return {Promise<object>} an action to be dispatched\n\t*/\n\tvar performLogin = function performLogin(user, config) {\n\t  return new Promise(function (resolve, reject) {\n\t    if (user != null) {\n\t      user.getSession(function (err, session) {\n\t        if (err) {\n\t          resolve(_actions.Action.loginFailure(user, err.message));\n\t        } else {\n\t          var jwtToken = session.getIdToken().getJwtToken();\n\t          var username = user.getUsername();\n\t          refreshIdentityCredentials(username, jwtToken, config).then(function (creds) {\n\t            return resolve(_actions.Action.login(creds));\n\t          }, function (message) {\n\t            return resolve(_actions.Action.loginFailure(user, message));\n\t          });\n\t        }\n\t      });\n\t    } else {\n\t      reject('user is null');\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t *\n\t * Authenticates with a user pool, and handles responses.\n\t * if the authentication is successful it then logs in to the\n\t * identity pool.\n\t *\n\t * returns an action depending on the outcome.  Possible actions returned\n\t * are:\n\t *\n\t * - login - valid user who is logged in\n\t * - loginFailure - failed to authenticate with user pool or identity pool\n\t * - mfaRequired - user now needs to enter MFA\n\t * - newPasswordRequired - user must change password on first login\n\t * - emailVerificationRequired - user must verify their email address\n\t * - emailVerificationFailed - email verification is required, but won't work\n\t *\n\t * Dispatch the resulting action, e.g.:\n\t *\n\t * ```\n\t * const { userPool, config } = state.cognito;\n\t * authenticate(username, password, userPool, config).then(dispatch);\n\t * ```\n\t *\n\t * @param {string} username - the username provided by the user\n\t * @param {string} password - the password provided by the user\n\t * @param {object} userPool - a Cognito User Pool object\n\t * @return {Promise<object>} - a promise that resolves an action to be dispatched\n\t *\n\t*/\n\tvar authenticate = function authenticate(username, password, userPool, config, dispatch) {\n\t  return new Promise(function (resolve, reject) {\n\t    var creds = new _amazonCognitoIdentityJs.AuthenticationDetails({\n\t      Username: username,\n\t      Password: password\n\t    });\n\t\n\t    var user = new _amazonCognitoIdentityJs.CognitoUser({\n\t      Username: username,\n\t      Pool: userPool\n\t    });\n\t\n\t    user.authenticateUser(creds, {\n\t      onSuccess: function onSuccess() {\n\t        dispatch(_actions.Action.authenticated(user));\n\t        resolve();\n\t      },\n\t      onFailure: function onFailure(error) {\n\t        if (error.code === 'UserNotConfirmedException') {\n\t          dispatch(_actions.Action.confirmationRequired(user));\n\t          resolve();\n\t        } else {\n\t          dispatch(_actions.Action.loginFailure(user, error.message));\n\t          reject(error);\n\t        }\n\t      },\n\t      mfaRequired: function mfaRequired() {\n\t        dispatch(_actions.Action.mfaRequired(user));\n\t        resolve();\n\t      },\n\t      newPasswordRequired: function newPasswordRequired() {\n\t        dispatch(_actions.Action.newPasswordRequired(user));\n\t        resolve();\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * sign up this user with the user pool provided\n\t * @param {object} userPool - a Cognito userpool (e.g. state.cognito.userPool)\n\t * @param {object} config - the react-cognito config object\n\t * @param {string} username - the username\n\t * @param {string} password - the password\n\t * @param {object} attributes - an attributes dictionary\n\t * @return {Promise<object>} a promise that resolves a redux action\n\t*/\n\tvar registerUser = function registerUser(userPool, config, username, password, attributes) {\n\t  return new Promise(function (resolve, reject) {\n\t    return userPool.signUp(username, password, (0, _attributes.mkAttrList)(attributes), null, function (err, result) {\n\t      if (err) {\n\t        reject(err.message);\n\t      } else if (result.userConfirmed === false) {\n\t        resolve(_actions.Action.confirmationRequired(result.user, attributes.email));\n\t      } else {\n\t        resolve(authenticate(username, password, userPool));\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\texports.authenticate = authenticate;\n\texports.performLogin = performLogin;\n\texports.registerUser = registerUser;\n\texports.emailVerificationFlow = emailVerificationFlow;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/** states stored in store.cognito.state */\n\tvar CognitoState = exports.CognitoState = {\n\t  LOGGED_OUT: 'LOGGED_OUT',\n\t  AUTHENTICATED: 'AUTHENTICATED',\n\t  LOGGING_IN: 'LOGGING_IN',\n\t  LOGGED_IN: 'LOGGED_IN',\n\t  NEW_PASSWORD_REQUIRED: 'NEW_PASSWORD_REQUIRED',\n\t  MFA_REQUIRED: 'MFA_REQUIRED',\n\t  EMAIL_VERIFICATION_REQUIRED: 'EMAIL_VERIFICATION_REQUIRED',\n\t  CONFIRMATION_REQUIRED: 'CONFIRMATION_REQUIRED'\n\t};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/**\n\t * Change a user's password\n\t * @param {object} user - the cognito user object\n\t * @param {string} oldPassword - the current password\n\t * @param {string} newPassword - the new password\n\t*/\n\tvar changePassword = function changePassword(user, oldPassword, newPassword) {\n\t  return new Promise(function (resolve, reject) {\n\t    return user.changePassword(oldPassword, newPassword, function (err, result) {\n\t      if (err) {\n\t        reject(err.message);\n\t      } else {\n\t        resolve(result);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * builds the federated identity pool login structure\n\t * @param {string} username - the username of the user\n\t * @param {string} jwtToken - a JWT Token from the session\n\t * @param {object} config - the cognito react config object\n\t*/\n\tvar buildLogins = function buildLogins(username, jwtToken, config) {\n\t  var loginDomain = \"cognito-idp.\" + config.region + \".amazonaws.com\";\n\t  var loginUrl = loginDomain + \"/\" + config.userPool;\n\t  var creds = {\n\t    IdentityPoolId: config.identityPool,\n\t    Logins: {},\n\t    LoginId: username // https://github.com/aws/aws-sdk-js/issues/609\n\t  };\n\t  creds.Logins[loginUrl] = jwtToken;\n\t  return creds;\n\t};\n\t\n\texports.changePassword = changePassword;\n\texports.buildLogins = buildLogins;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Confirm = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(3);\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BaseConfirm = function BaseConfirm(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    error: props.error,\n\t    onSubmit: props.onSubmit,\n\t    onResend: props.onResend,\n\t    onCancel: props.onCancel\n\t  });\n\t};\n\t\n\tvar confirm = function confirm(verificationCode, user, dispatch) {\n\t  return new Promise(function (resolve, reject) {\n\t    user.confirmRegistration(verificationCode, true, function (error) {\n\t      if (error) {\n\t        dispatch(_actions.Action.confirmFailed(user));\n\t        reject(error.message);\n\t      } else {\n\t        dispatch(_actions.Action.partialLogout());\n\t        resolve(user);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\tvar resend = function resend(user, dispatch) {\n\t  return new Promise(function (resolve, reject) {\n\t    user.resendConfirmationCode(function (err) {\n\t      if (err) {\n\t        dispatch(_actions.Action.confirmationRequired(user));\n\t        reject(err.message);\n\t      } else {\n\t        dispatch(_actions.Action.confirmationRequired(user));\n\t        resolve(user);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    error: state.cognito.error,\n\t    user: state.cognito.user\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    confirmPartial: function confirmPartial(verificationCode, user) {\n\t      return confirm(verificationCode, user, dispatch);\n\t    },\n\t    onCancel: function onCancel() {\n\t      return dispatch(_actions.Action.logout());\n\t    },\n\t    onResendPartial: function onResendPartial(user) {\n\t      return resend(user, dispatch);\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, dispatchProps, {\n\t    onSubmit: function onSubmit(verificationCode) {\n\t      return dispatchProps.confirmPartial(verificationCode, stateProps.user);\n\t    },\n\t    onResend: function onResend() {\n\t      return dispatchProps.onResendPartial(stateProps.user);\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t * Container for a confirmation form.  Magically adds the following props to the \n\t * contained form:\n\t *\n\t *  * user - the Cognito User from the redux store\n\t *  * error - the persisted error from the redux store\n\t *  * onSubmit - a handler that calls the Cognito confirm API\n\t *  * onResend - a handler that calls the Cognito resend request API\n\t *  * onCancel - Logs the user out completely\n\t *\n\t * @example\n\t * <Confirm>\n\t *   <ConfirmForm />\n\t * </Confirm>\n\t *\n\t */\n\tvar Confirm = exports.Confirm = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseConfirm);\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.EmailVerification = exports.verifyEmail = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(3);\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BaseEmailVerification = function BaseEmailVerification(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    error: props.error,\n\t    onSubmit: props.onSubmit,\n\t    onCancel: props.onCancel\n\t  });\n\t};\n\t\n\tvar verifyEmail = exports.verifyEmail = function verifyEmail(verificationCode, user, dispatch) {\n\t  return new Promise(function (resolve, reject) {\n\t    user.verifyAttribute('email', verificationCode, {\n\t      onSuccess: function onSuccess() {\n\t        dispatch(_actions.Action.login(user));\n\t        resolve();\n\t      },\n\t      inputVerificationCode: function inputVerificationCode() {\n\t        dispatch(_actions.Action.emailVerificationRequired(user));\n\t        reject();\n\t      },\n\t      onFailure: function onFailure(error) {\n\t        dispatch(_actions.Action.emailVerificationFailed(user, error.message));\n\t        reject();\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    error: state.cognito.error,\n\t    user: state.cognito.user\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    verifyPartial: function verifyPartial(verificationCode, user) {\n\t      return verifyEmail(verificationCode, user, dispatch);\n\t    },\n\t    onCancel: function onCancel() {\n\t      return dispatch(_actions.Action.logout());\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, dispatchProps, {\n\t    onSubmit: function onSubmit(verificationCode) {\n\t      return dispatchProps.verifyPartial(verificationCode, stateProps.user);\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t * Wrapper for an Email Verification Form.\n\t * Magically adds the following props to the contained form:\n\t *\n\t *  * user - the Cognito user from the Redux store\n\t *  * error - the persisted error from the Redux store\n\t *  * onSubmit - a handler that calls the Cognito verification API\n\t *\n\t * @example\n\t * <EmailVerification>\n\t *   <EmailVerificationForm />\n\t * </EmailVerification>\n\t *\n\t */\n\tvar EmailVerification = exports.EmailVerification = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseEmailVerification);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Login = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(3);\n\t\n\tvar _auth = __webpack_require__(5);\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BaseLogin = function BaseLogin(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    username: props.username,\n\t    email: props.email,\n\t    onSubmit: props.onSubmit,\n\t    clearCache: props.clearCache\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  var username = '';\n\t  if (state.cognito.user) {\n\t    username = state.cognito.user.getUsername();\n\t  } else if (state.cognito.userName) {\n\t    username = state.cognito.cache.userName;\n\t  }\n\t  return {\n\t    username: username,\n\t    email: state.cognito.cache.email,\n\t    config: state.cognito.config,\n\t    userPool: state.cognito.userPool\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    authenticator: function authenticator(username, password, userPool, config) {\n\t      return (0, _auth.authenticate)(username, password, userPool, config, dispatch);\n\t    },\n\t    clearCache: function clearCache() {\n\t      return dispatch(_actions.Action.clearCache());\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, {\n\t    onSubmit: function onSubmit(username, password) {\n\t      return dispatchProps.authenticator(username, password, stateProps.userPool, stateProps.config);\n\t    },\n\t    clearCache: dispatchProps.clearCache\n\t  });\n\t};\n\t\n\t/**\n\t * Container for login behaviour, wrapping a login form.\n\t *\n\t * Magically provides the following props to the wrapped form:\n\t *\n\t *  * username\n\t *  * onSubmit\n\t *\n\t * @example\n\t * <Login>\n\t *   <LoginForm />\n\t * </Login>\n\t */\n\tvar Login = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseLogin);\n\t\n\texports.Login = Login;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Logout = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\n\t * Container for logout behaviour.\n\t * @example\n\t * <Logout onLogout={handler}>\n\t *   <LogoutForm />\n\t * </Logout>\n\t */\n\tvar Logout = exports.Logout = function (_React$Component) {\n\t  _inherits(Logout, _React$Component);\n\t\n\t  function Logout() {\n\t    var _ref;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, Logout);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Logout.__proto__ || Object.getPrototypeOf(Logout)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function (event) {\n\t      var store = _this.context.store;\n\t\n\t      var state = store.getState();\n\t      state.cognito.user.signOut();\n\t      event.preventDefault();\n\t      store.dispatch(_actions.Action.logout());\n\t      _this.props.onLogout();\n\t    }, _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  /**\n\t   * Passed to child element as onClick prop.\n\t   * Signs the user out, and then dispatches the logout action\n\t   * If you want to take further actions (like reloading UI) then add an\n\t   * onLogout property to the Logout element\n\t   */\n\t\n\t\n\t  _createClass(Logout, [{\n\t    key: 'render',\n\t\n\t\n\t    /**\n\t     * renders the child element, adding an onClick property\n\t     */\n\t    value: function render() {\n\t      return _react2.default.cloneElement(this.props.children, {\n\t        onClick: this.onClick\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Logout;\n\t}(_react2.default.Component);\n\t\n\tLogout.contextTypes = {\n\t  store: _react.PropTypes.object\n\t};\n\tLogout.propTypes = {\n\t  children: _react2.default.PropTypes.any.isRequired,\n\t  onLogout: _react2.default.PropTypes.func\n\t};\n\tLogout.defaultProps = {\n\t  onLogout: function onLogout() {}\n\t};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.NewPasswordRequired = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(3);\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BaseNewPasswordRequired = function BaseNewPasswordRequired(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    error: props.error,\n\t    onSubmit: props.onSubmit\n\t  });\n\t};\n\t\n\tvar setNewPassword = function setNewPassword(password, user, config, userAttributes, dispatch) {\n\t  return user.completeNewPasswordChallenge(password, userAttributes, {\n\t    onSuccess: function onSuccess() {\n\t      return dispatch(_actions.Action.authenticated(user));\n\t    },\n\t    onFailure: function onFailure(error) {\n\t      return dispatch(_actions.Action.newPasswordRequiredFailure(user, error.message));\n\t    },\n\t    mfaRequired: function mfaRequired() {\n\t      return dispatch(_actions.Action.mfaRequired(user));\n\t    },\n\t    newPasswordRequired: function newPasswordRequired() {\n\t      return dispatch(_actions.Action.newPasswordRequired(user));\n\t    }\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    error: state.cognito.error,\n\t    user: state.cognito.user,\n\t    config: state.cognito.config\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    setNewPasswordPartial: function setNewPasswordPartial(password, user, config, userAttributes) {\n\t      return setNewPassword(password, user, config, userAttributes, dispatch);\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, {\n\t    onSubmit: function onSubmit(password, userAttributes) {\n\t      return dispatchProps.setNewPasswordPartial(password, stateProps.user, stateProps.config, userAttributes);\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t * Wrapper for a New Password Required form\n\t *\n\t * Magically provides the following props to the wrapped element:\n\t *\n\t * * user - the Cognito user\n\t * * error - the persistent react-cognito error message\n\t * * onSubmit - a handler that calls the Set New Password API\n\t *\n\t * @example\n\t *\n\t * <NewPasswordRequired>\n\t *   <NewPasswordRequiredForm />\n\t * </NewPasswordRequired>\n\t */\n\tvar NewPasswordRequired = exports.NewPasswordRequired = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseNewPasswordRequired);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.PasswordReset = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(3);\n\t\n\tvar _amazonCognitoIdentityJs = __webpack_require__(7);\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BasePasswordReset = function BasePasswordReset(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    username: props.username,\n\t    sendVerificationCode: props.sendVerificationCode,\n\t    setPassword: props.setPassword\n\t  });\n\t};\n\t\n\tvar getUser = function getUser(username, userPool) {\n\t  var user = new _amazonCognitoIdentityJs.CognitoUser({\n\t    Username: username,\n\t    Pool: userPool\n\t  });\n\t  return user;\n\t};\n\t\n\tvar setPassword = function setPassword(username, userPool, code, password, dispatch) {\n\t  return new Promise(function (resolve, reject) {\n\t    var user = getUser(username, userPool);\n\t    user.confirmPassword(code, password, {\n\t      onSuccess: function onSuccess() {\n\t        dispatch(_actions.Action.finishPasswordResetFlow()), resolve();\n\t      },\n\t      onFailure: function onFailure(err) {\n\t        dispatch(_actions.Action.beginPasswordResetFlow(user, err.message)), reject(err);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\tvar sendVerificationCode = function sendVerificationCode(username, userPool, dispatch) {\n\t  return new Promise(function (resolve, reject) {\n\t    var user = getUser(username, userPool);\n\t    user.forgotPassword({\n\t      onSuccess: function onSuccess() {\n\t        dispatch(_actions.Action.continuePasswordResetFlow(user));\n\t        resolve();\n\t      },\n\t      onFailure: function onFailure(err) {\n\t        dispatch(_actions.Action.beginPasswordResetFlow(user, err.message));\n\t        reject(err);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  var props = {\n\t    user: state.cognito.user,\n\t    username: '',\n\t    userPool: state.cognito.userPool\n\t  };\n\t  if (state.cognito.user != null) {\n\t    props.username = state.cognito.user.getUsername();\n\t  }\n\t  return props;\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    sendVerificationCodePartial: function sendVerificationCodePartial(username, userPool) {\n\t      return sendVerificationCode(username, userPool, dispatch);\n\t    },\n\t    setPasswordPartial: function setPasswordPartial(user, userPool, code, password) {\n\t      return setPassword(user, userPool, code, password, dispatch);\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, {\n\t    sendVerificationCode: function sendVerificationCode(username) {\n\t      return dispatchProps.sendVerificationCodePartial(username, stateProps.userPool);\n\t    },\n\t    setPassword: function setPassword(username, code, password) {\n\t      return dispatchProps.setPasswordPartial(username, stateProps.userPool, code, password);\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t * Container for a Password Reset form\n\t *\n\t * Magically provides the following props to the wrapped element:\n\t *\n\t *  * user\n\t *  * username\n\t *  * sendVerificationCode\n\t *  * setPassword\n\t *\n\t * @example\n\t * <PasswordReset>\n\t *   <PasswordResetForm />\n\t * </PasswordReset>\n\t */\n\tvar PasswordReset = exports.PasswordReset = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BasePasswordReset);\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/*\n\t Default behaviour is to restrict access to only logged in users\n\t*/\n\t\n\tvar testLoggedIn = function testLoggedIn(state, wantLoggedIn) {\n\t  var isLoggedIn = state.cognito.user !== null;\n\t  if (isLoggedIn && wantLoggedIn) {\n\t    return true;\n\t  }\n\t  if (!isLoggedIn && !wantLoggedIn) {\n\t    return true;\n\t  }\n\t  return false;\n\t};\n\t\n\tvar permitted = function permitted(state, expr) {\n\t  return new Promise(function (resolve) {\n\t    if (expr.loggedIn !== undefined) {\n\t      resolve(testLoggedIn(state, expr.loggedIn));\n\t    } else {\n\t      resolve(testLoggedIn(state, true));\n\t    }\n\t  });\n\t};\n\t\n\tvar guard = function guard(store, forbiddenUrl) {\n\t  var expr = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t  var routeState = arguments[3];\n\t  var replace = arguments[4];\n\t  var callback = arguments[5];\n\t\n\t  var state = store.getState();\n\t  var dest = forbiddenUrl;\n\t\n\t  if (expr.forbiddenUrl !== undefined) {\n\t    dest = expr.forbiddenUrl;\n\t  }\n\t  permitted(state, expr).then(function (allow) {\n\t    if (!allow) {\n\t      replace(dest);\n\t    }\n\t    callback();\n\t  });\n\t};\n\t\n\t/**\n\t * creates a guard function you can use in <Route> tags\n\t * @param {object} store - the redux store\n\t * @param {string} forbiddenUrl - the default url to navigate to if forbidden\n\t * @returns {function} - a function that can be provided to onEnter\n\t*/\n\tvar createGuard = function createGuard(store, forbiddenUrl) {\n\t  return function (expr) {\n\t    return function (state, replace, callback) {\n\t      return guard(store, forbiddenUrl, expr, state, replace, callback);\n\t    };\n\t  };\n\t};\n\t\n\texports.createGuard = createGuard;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.identityPoolLogin = exports.emailVerificationRequired = exports.fetchAttributes = exports.direct = exports.enable = exports.setupCognito = undefined;\n\t\n\tvar _actions = __webpack_require__(1);\n\t\n\tvar _attributes = __webpack_require__(4);\n\t\n\tvar _auth = __webpack_require__(5);\n\t\n\tvar _states = __webpack_require__(6);\n\t\n\t/**\n\t * subscribes a \"policy\" function to the store, and calls it\n\t * with the state and the dispatch function\n\t * @param {object} store - the redux store\n\t * @param {function} f - f(state, dispatch)\n\t*/\n\tvar enable = function enable(store, f) {\n\t  store.subscribe(function () {\n\t    var state = store.getState();\n\t    var dispatch = store.dispatch;\n\t    f(state, dispatch);\n\t  });\n\t};\n\t\n\t/**\n\t * requires email verification before transitioning from AUTHENTICATED\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar emailVerificationRequired = function emailVerificationRequired(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.AUTHENTICATED) {\n\t    var user = state.cognito.user;\n\t    (0, _attributes.getUserAttributes)(user).then(function (attributes) {\n\t      if (attributes.email_verified !== 'true') {\n\t        (0, _auth.emailVerificationFlow)(user, attributes).then(dispatch);\n\t      } else {\n\t        dispatch(_actions.Action.loggingIn(attributes));\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\t/**\n\t * fetches and stores attributes before transitioning from AUTHENTICATED\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar fetchAttributes = function fetchAttributes(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.AUTHENTICATED) {\n\t    var user = state.cognito.user;\n\t    (0, _attributes.getUserAttributes)(user).then(function (attributes) {\n\t      dispatch(_actions.Action.loggingIn(attributes));\n\t    });\n\t  }\n\t};\n\t\n\t/**\n\t * transitions directly from AUTHENTICATED to LOGGING_IN\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar direct = function direct(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.AUTHENTICATED) {\n\t    dispatch(_actions.Action.loggingIn());\n\t  }\n\t};\n\t\n\t/**\n\t * logs into the single federated identity pool to transition from LOGGING_IN\n\t * to LOGGED_IN\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar identityPoolLogin = function identityPoolLogin(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.LOGGING_IN) {\n\t    (0, _auth.performLogin)(state.cognito.user, state.cognito.config).then(dispatch);\n\t  }\n\t};\n\t\n\t/**\n\t * sets up react-cognito with default policies.\n\t*/\n\tvar setupCognito = function setupCognito(store, config) {\n\t  store.dispatch(_actions.Action.configure(config));\n\t  enable(store, emailVerificationRequired);\n\t  enable(store, identityPoolLogin);\n\t};\n\t\n\texports.setupCognito = setupCognito;\n\texports.enable = enable;\n\texports.direct = direct;\n\texports.fetchAttributes = fetchAttributes;\n\texports.emailVerificationRequired = emailVerificationRequired;\n\texports.identityPoolLogin = identityPoolLogin;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.cognito = undefined;\n\t\n\tvar _amazonCognitoIdentityJs = __webpack_require__(7);\n\t\n\tvar _states = __webpack_require__(6);\n\t\n\t/* global AWS */\n\t\n\tvar initial = {\n\t  user: null,\n\t  cache: { // cached for post register login\n\t    userName: null,\n\t    email: null\n\t  },\n\t  state: _states.CognitoState.LOGGED_OUT,\n\t  error: '',\n\t  userPool: null,\n\t  attributes: {},\n\t  creds: null,\n\t  config: {\n\t    region: null,\n\t    userPool: null,\n\t    clientId: null,\n\t    identityPool: null\n\t  }\n\t};\n\t\n\tvar configure = function configure(state, action) {\n\t  // surprise side-effect!\n\t  AWS.config.region = action.config.region;\n\t  var pool = new _amazonCognitoIdentityJs.CognitoUserPool({\n\t    UserPoolId: action.config.userPool,\n\t    ClientId: action.config.clientId\n\t  });\n\t  var user = pool.getCurrentUser();\n\t  return Object.assign({}, state, {\n\t    config: action.config,\n\t    userPool: pool,\n\t    user: user\n\t  });\n\t};\n\t\n\t// sometimes we don't get the attributes in later parts of the login flow\n\t// but lets not clobber the ones we've got if we've not got them\n\tvar addAttributes = function addAttributes(s, attributes) {\n\t  var s2 = Object.assign({}, s);\n\t  if (attributes) {\n\t    s2.attributes = attributes;\n\t  }\n\t  return s2;\n\t};\n\t\n\t/**\n\t * reducer function to be passed to redux combineReducers\n\t * @param {object} state\n\t * @param {object} action\n\t*/\n\t\n\tvar cognito = exports.cognito = function cognito() {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial;\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t\n\t    case 'COGNITO_CONFIGURE':\n\t      return configure(state, action);\n\t\n\t    case 'COGNITO_AUTHENTICATED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        cache: {\n\t          userName: null,\n\t          email: null\n\t        },\n\t        error: '',\n\t        state: _states.CognitoState.AUTHENTICATED\n\t      });\n\t\n\t    case 'COGNITO_CLEAR_CACHE':\n\t      return Object.assign({}, state, {\n\t        cache: {\n\t          userName: null,\n\t          email: null\n\t        }\n\t      });\n\t\n\t    case 'COGNITO_LOGGING_IN':\n\t      return Object.assign({}, state, {\n\t        state: _states.CognitoState.LOGGING_IN,\n\t        attributes: action.attributes\n\t      });\n\t\n\t    case 'COGNITO_LOGIN':\n\t      return Object.assign({}, state, addAttributes({\n\t        error: '',\n\t        creds: action.creds,\n\t        state: _states.CognitoState.LOGGED_IN\n\t      }, action.attributes));\n\t\n\t    case 'COGNITO_LOGOUT':\n\t      return Object.assign({}, state, {\n\t        user: null,\n\t        error: '',\n\t        creds: null,\n\t        state: _states.CognitoState.LOGGED_OUT\n\t      });\n\t\n\t    case 'COGNITO_PARTIAL_LOGOUT':\n\t      return Object.assign({}, state, {\n\t        user: null,\n\t        userName: state.user.username,\n\t        error: '',\n\t        creds: null,\n\t        state: _states.CognitoState.LOGGED_OUT\n\t      });\n\t\n\t    case 'COGNITO_LOGIN_FAILURE':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        state: _states.CognitoState.LOGGED_OUT,\n\t        error: action.error\n\t      });\n\t\n\t    case 'COGNITO_LOGIN_MFA_REQUIRED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        error: '',\n\t        state: _states.CognitoState.MFA_REQUIRED\n\t      });\n\t\n\t    case 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        error: '',\n\t        state: _states.CognitoState.NEW_PASSWORD_REQUIRED\n\t      });\n\t\n\t    case 'COGNITO_USER_UNCONFIRMED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        state: _states.CognitoState.CONFIRMATION_REQUIRED,\n\t        cache: {\n\t          userName: action.user.username,\n\t          email: action.email\n\t        }\n\t      });\n\t\n\t    case 'COGNITO_USER_CONFIRM_FAILED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        state: _states.CognitoState.CONFIRMATION_REQUIRED,\n\t        error: action.error\n\t      });\n\t\n\t    case 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE':\n\t      return Object.assign({}, state, {\n\t        error: action.error,\n\t        state: _states.CognitoState.NEW_PASSWORD_REQUIRED\n\t      });\n\t\n\t    case 'COGNITO_EMAIL_VERIFICATION_REQUIRED':\n\t      return Object.assign({}, state, addAttributes({\n\t        error: '',\n\t        state: _states.CognitoState.EMAIL_VERIFICATION_REQUIRED\n\t      }, action.attributes));\n\t\n\t    case 'COGNITO_EMAIL_VERIFICATION_FAILED':\n\t      return Object.assign({}, state, addAttributes({\n\t        error: action.error,\n\t        state: _states.CognitoState.EMAIL_VERIFICATION_REQUIRED\n\t      }, action.attributes));\n\t\n\t    case 'COGNITO_BEGIN_PASSWORD_RESET_FLOW':\n\t      return Object.assign({}, state, {\n\t        error: action.error\n\t      });\n\t\n\t    case 'COGNITO_CONTINUE_PASSWORD_RESET_FLOW':\n\t      return state;\n\t\n\t    case 'COGNITO_FINISH_PASSWORD_RESET_FLOW':\n\t      return state;\n\t\n\t    // this moves us into the AUTHENTICATED state, potentially causing\n\t    // a number of side-effects. this is so we can re-verify the email\n\t    // address if we have to\n\t    case 'COGNITO_UPDATE_USER_ATTRIBUTES':\n\t      return Object.assign({}, state, {\n\t        attributes: Object.assign({}, state.attributes, action.attributes),\n\t        state: _states.CognitoState.AUTHENTICATED\n\t      });\n\t\n\t    default:\n\t      return state;\n\t  }\n\t};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// react-cognito.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0e4eedd1800161d0ee35","export * from './reducers';\nexport * from './actions';\nexport * from './states';\nexport * from './utils';\nexport * from './guard';\nexport * from './auth';\nexport * from './attributes';\nexport * from './policy';\n\n\nexport * from './Login.jsx';\nexport * from './Logout.jsx';\nexport * from './NewPasswordRequired.jsx';\nexport * from './EmailVerification.jsx';\nexport * from './PasswordReset.jsx';\nexport * from './Confirm.jsx';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * container for all the actions\n*/\nconst Action = {\n\n  configure: config => ({\n    type: 'COGNITO_CONFIGURE',\n    config,\n  }),\n\n  authenticated: user => ({\n    type: 'COGNITO_AUTHENTICATED',\n    user,\n  }),\n\n  loggingIn: attributes => ({\n    type: 'COGNITO_LOGGING_IN',\n    attributes,\n  }),\n\n  login: creds => ({\n    type: 'COGNITO_LOGIN',\n    creds,\n  }),\n\n  logout: () => ({\n    type: 'COGNITO_LOGOUT',\n  }),\n\n  partialLogout: () => ({\n    type: 'COGNITO_PARTIAL_LOGOUT',\n  }),\n\n  loginFailure: (user, error) => ({\n    type: 'COGNITO_LOGIN_FAILURE',\n    user,\n    error,\n  }),\n\n  mfaRequired: user => ({\n    type: 'COGNITO_LOGIN_MFA_REQUIRED',\n    user,\n  }),\n\n  newPasswordRequired: user => ({\n    type: 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED',\n    user,\n  }),\n\n  newPasswordRequiredFailure: (user, error) => ({\n    type: 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE',\n    user,\n    error,\n  }),\n\n  emailVerificationRequired: attributes => ({\n    type: 'COGNITO_EMAIL_VERIFICATION_REQUIRED',\n    attributes,\n  }),\n\n  emailVerificationFailed: (user, error) => ({\n    type: 'COGNITO_EMAIL_VERIFICATION_FAILED',\n    user,\n    error,\n  }),\n\n  beginPasswordResetFlow: (user, error) => ({\n    type: 'COGNITO_BEGIN_PASSWORD_RESET_FLOW',\n    user,\n    error,\n  }),\n\n  continuePasswordResetFlow: user => ({\n    type: 'COGNITO_CONTINUE_PASSWORD_RESET_FLOW',\n    user,\n  }),\n\n  finishPasswordResetFlow: error => ({\n    type: 'COGNITO_FINISH_PASSWORD_RESET_FLOW',\n    error,\n  }),\n\n  updateAttributes: attributes => ({\n    type: 'COGNITO_UPDATE_USER_ATTRIBUTES',\n    attributes,\n  }),\n\n  confirmationRequired: (user, email) => ({\n    type: 'COGNITO_USER_UNCONFIRMED',\n    user,\n    email,\n  }),\n\n  confirmFailed: (user, error) => ({\n    type: 'COGNITO_USER_CONFIRM_FAILED',\n    user,\n    error,\n  }),\n\n  clearCache: () => ({\n    type: 'COGNITO_CLEAR_CACHE',\n  }),\n};\n\nexport { Action };\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactRedux\",\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\"}\n// module id = 3\n// module chunks = 0","\nimport { Action } from './actions';\n\n/**\n * Request that a verification code is sent by email or SMS to verify\n * an attribute\n * @param {object} user - the cognito user object\n * @param {string} attribute - the attribute name\n*/\nconst sendAttributeVerificationCode = (user, attribute) =>\n  new Promise((resolve, reject) => {\n    user.getAttributeVerificationCode(attribute, {\n      onSuccess: () => resolve(false),\n      inputVerificationCode: () => resolve(true),\n      onFailure: error => reject(error.message),\n    });\n  });\n\n/**\n * Fetches the user attributes from Cognito, and turns them into\n * an object\n * @param {object} user - the cognito user object\n * @returns {Promise} resolves with the attributes or rejects with an error message\n*/\nconst getUserAttributes = user =>\n  new Promise((resolve, reject) =>\n    user.getUserAttributes((error, result) => {\n      if (error) {\n        reject(error.message);\n      } else {\n        const attributes = {};\n        for (let i = 0; i < result.length; i += 1) {\n          const name = result[i].getName();\n          const value = result[i].getValue();\n          attributes[name] = value;\n        }\n        resolve(attributes);\n      }\n    }),\n  );\n\n/**\n * convert an attribute dictionary to an attribute list\n * @param {object} attributes - a dictionary of attributes\n * @return {array} AWS expected attribute list\n*/\nconst mkAttrList = attributes =>\n  Object.keys(attributes).map(key => ({\n    Name: key,\n    Value: attributes[key],\n  }));\n\n/**\n * update the attributes in Cognito\n * @param {object} user - the CognitoUser object\n * @param {object} attributes - an attributes dictionary with the attributes to be updated\n * @return {Promise<object>} a promise that resolves to a redux action\n*/\nconst updateAttributes = (user, attributes) =>\n  new Promise((resolve, reject) => {\n    const attributeList = mkAttrList(attributes);\n    user.updateAttributes(attributeList, (err) => {\n      if (err) {\n        reject(err.message);\n      } else {\n        resolve(Action.updateAttributes(attributes));\n      }\n    });\n  });\n\nexport {\n  sendAttributeVerificationCode,\n  getUserAttributes,\n  updateAttributes,\n  mkAttrList,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/attributes.js","import { CognitoUser, AuthenticationDetails } from 'amazon-cognito-identity-js';\nimport { CognitoIdentityCredentials } from 'aws-sdk';\nimport { Action } from './actions';\nimport { mkAttrList, sendAttributeVerificationCode } from './attributes';\nimport { buildLogins } from './utils';\n\n/**\n * sends the email verification code and transitions to the correct state\n * @param {object} user - the CognitoUser object\n * @param {object} attributes - the attributes dictionary\n * @return {Promise<object>} a promise that resolves to a redux action\n*/\nconst emailVerificationFlow = (user, attributes) =>\n  new Promise(resolve =>\n    sendAttributeVerificationCode(user, 'email').then((required) => {\n      if (required) {\n        resolve(Action.emailVerificationRequired(attributes));\n      } else {\n        // dead end?\n        resolve(Action.loggingIn(attributes));\n      }\n    }, (error) => {\n      // some odd classes of error here\n      resolve(Action.emailVerificationFailed(error, attributes));\n    }));\n\n/**\n * logs in to the federated identity pool with a JWT\n * @param {string} username - the username\n * @param {string} jwtToken - a token from the session\n * @param {object} config - the react-cognito config\n * @return {Promise<object>} a promise that resolves to the federated identity credentials\n*/\nconst refreshIdentityCredentials = (username, jwtToken, config) =>\n  new Promise((resolve, reject) => {\n    const logins = buildLogins(username, jwtToken, config);\n    const creds = new CognitoIdentityCredentials(logins);\n    creds.refresh((error) => {\n      if (error) {\n        reject(error.message);\n      } else {\n        resolve(creds);\n      }\n    });\n  });\n\n/**\n * establishes a session with the user pool, and logs into the federated identity\n * pool using a token from the session\n * @param {object} user - the CognitoUser object\n * @param {object} config -the react-cognito config\n * @return {Promise<object>} an action to be dispatched\n*/\nconst performLogin = (user, config) =>\n  new Promise((resolve, reject) => {\n    if (user != null) {\n      user.getSession((err, session) => {\n        if (err) {\n          resolve(Action.loginFailure(user, err.message));\n        } else {\n          const jwtToken = session.getIdToken().getJwtToken();\n          const username = user.getUsername();\n          refreshIdentityCredentials(username, jwtToken, config).then(\n            creds => resolve(Action.login(creds)),\n            message => resolve(Action.loginFailure(user, message)));\n        }\n      });\n    } else {\n      reject('user is null');\n    }\n  });\n\n/**\n *\n * Authenticates with a user pool, and handles responses.\n * if the authentication is successful it then logs in to the\n * identity pool.\n *\n * returns an action depending on the outcome.  Possible actions returned\n * are:\n *\n * - login - valid user who is logged in\n * - loginFailure - failed to authenticate with user pool or identity pool\n * - mfaRequired - user now needs to enter MFA\n * - newPasswordRequired - user must change password on first login\n * - emailVerificationRequired - user must verify their email address\n * - emailVerificationFailed - email verification is required, but won't work\n *\n * Dispatch the resulting action, e.g.:\n *\n * ```\n * const { userPool, config } = state.cognito;\n * authenticate(username, password, userPool, config).then(dispatch);\n * ```\n *\n * @param {string} username - the username provided by the user\n * @param {string} password - the password provided by the user\n * @param {object} userPool - a Cognito User Pool object\n * @return {Promise<object>} - a promise that resolves an action to be dispatched\n *\n*/\nconst authenticate = (username, password, userPool, config, dispatch) =>\n  new Promise((resolve, reject) => {\n    const creds = new AuthenticationDetails({\n      Username: username,\n      Password: password,\n    });\n\n    const user = new CognitoUser({\n      Username: username,\n      Pool: userPool,\n    });\n\n    user.authenticateUser(creds, {\n      onSuccess: () => {\n        dispatch(Action.authenticated(user));\n        resolve();\n      },\n      onFailure: (error) => {\n        if (error.code === 'UserNotConfirmedException') {\n          dispatch(Action.confirmationRequired(user));\n          resolve();\n        } else {\n          dispatch(Action.loginFailure(user, error.message));\n          reject(error);\n        }\n      },\n      mfaRequired: () => {\n        dispatch(Action.mfaRequired(user));\n        resolve();\n      },\n      newPasswordRequired: () => {\n        dispatch(Action.newPasswordRequired(user));\n        resolve();\n      },\n    });\n  });\n\n/**\n * sign up this user with the user pool provided\n * @param {object} userPool - a Cognito userpool (e.g. state.cognito.userPool)\n * @param {object} config - the react-cognito config object\n * @param {string} username - the username\n * @param {string} password - the password\n * @param {object} attributes - an attributes dictionary\n * @return {Promise<object>} a promise that resolves a redux action\n*/\nconst registerUser = (userPool, config, username, password, attributes) =>\n  new Promise((resolve, reject) =>\n    userPool.signUp(username, password, mkAttrList(attributes), null, (err, result) => {\n      if (err) {\n        reject(err.message);\n      } else if (result.userConfirmed === false) {\n        resolve(Action.confirmationRequired(result.user, attributes.email));\n      } else {\n        resolve(authenticate(username, password, userPool));\n      }\n    }));\n\n\nexport {\n  authenticate,\n  performLogin,\n  registerUser,\n  emailVerificationFlow,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth.js","\n/** states stored in store.cognito.state */\nexport const CognitoState = {\n  LOGGED_OUT: 'LOGGED_OUT',\n  AUTHENTICATED: 'AUTHENTICATED',\n  LOGGING_IN: 'LOGGING_IN',\n  LOGGED_IN: 'LOGGED_IN',\n  NEW_PASSWORD_REQUIRED: 'NEW_PASSWORD_REQUIRED',\n  MFA_REQUIRED: 'MFA_REQUIRED',\n  EMAIL_VERIFICATION_REQUIRED: 'EMAIL_VERIFICATION_REQUIRED',\n  CONFIRMATION_REQUIRED: 'CONFIRMATION_REQUIRED',\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/states.js","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"AmazonCognitoIdentity\",\"commonjs2\":\"amazon-cognito-identity-js\",\"commonjs\":\"amazon-cognito-identity-js\",\"amd\":\"amazon-cognito-identity-js\"}\n// module id = 7\n// module chunks = 0","\n/**\n * Change a user's password\n * @param {object} user - the cognito user object\n * @param {string} oldPassword - the current password\n * @param {string} newPassword - the new password\n*/\nconst changePassword = (user, oldPassword, newPassword) =>\n  new Promise((resolve, reject) =>\n    user.changePassword(oldPassword, newPassword, (err, result) => {\n      if (err) {\n        reject(err.message);\n      } else {\n        resolve(result);\n      }\n    }));\n\n/**\n * builds the federated identity pool login structure\n * @param {string} username - the username of the user\n * @param {string} jwtToken - a JWT Token from the session\n * @param {object} config - the cognito react config object\n*/\nconst buildLogins = (username, jwtToken, config) => {\n  const loginDomain = `cognito-idp.${config.region}.amazonaws.com`;\n  const loginUrl = `${loginDomain}/${config.userPool}`;\n  const creds = {\n    IdentityPoolId: config.identityPool,\n    Logins: {},\n    LoginId: username, // https://github.com/aws/aws-sdk-js/issues/609\n  };\n  creds.Logins[loginUrl] = jwtToken;\n  return creds;\n};\n\nexport {\n  changePassword,\n  buildLogins,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Action } from './actions';\n\nconst BaseConfirm = props =>\n  React.cloneElement(props.children, {\n    error: props.error,\n    onSubmit: props.onSubmit,\n    onResend: props.onResend,\n    onCancel: props.onCancel,\n  });\n\nconst confirm = (verificationCode, user, dispatch) =>\n  new Promise((resolve, reject) => {\n    user.confirmRegistration(verificationCode, true, (error) => {\n      if (error) {\n        dispatch(Action.confirmFailed(user));\n        reject(error.message);\n      } else {\n        dispatch(Action.partialLogout());\n        resolve(user);\n      }\n    });\n  });\n\nconst resend = (user, dispatch) =>\n  new Promise((resolve, reject) => {\n    user.resendConfirmationCode((err) => {\n      if (err) {\n        dispatch(Action.confirmationRequired(user));\n        reject(err.message);\n      } else {\n        dispatch(Action.confirmationRequired(user));\n        resolve(user);\n      }\n    });\n  });\n\nconst mapStateToProps = state => ({\n  error: state.cognito.error,\n  user: state.cognito.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  confirmPartial: (verificationCode, user) =>\n    confirm(verificationCode, user, dispatch),\n  onCancel: () => dispatch(Action.logout()),\n  onResendPartial: user => resend(user, dispatch),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, dispatchProps, {\n    onSubmit: verificationCode =>\n     dispatchProps.confirmPartial(verificationCode, stateProps.user),\n    onResend: () =>\n     dispatchProps.onResendPartial(stateProps.user),\n  });\n\n/**\n * Container for a confirmation form.  Magically adds the following props to the \n * contained form:\n *\n *  * user - the Cognito User from the redux store\n *  * error - the persisted error from the redux store\n *  * onSubmit - a handler that calls the Cognito confirm API\n *  * onResend - a handler that calls the Cognito resend request API\n *  * onCancel - Logs the user out completely\n *\n * @example\n * <Confirm>\n *   <ConfirmForm />\n * </Confirm>\n *\n */\nexport const Confirm = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseConfirm);\n\n\n\n// WEBPACK FOOTER //\n// ./src/Confirm.jsx","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Action } from './actions';\n\nconst BaseEmailVerification = props =>\n  React.cloneElement(props.children, {\n    error: props.error,\n    onSubmit: props.onSubmit,\n    onCancel: props.onCancel,\n  });\n\nexport const verifyEmail = (verificationCode, user, dispatch) =>\n  new Promise((resolve, reject) => {\n    user.verifyAttribute('email', verificationCode, {\n      onSuccess: () => {\n        dispatch(Action.login(user));\n        resolve();\n      },\n      inputVerificationCode: () => {\n        dispatch(Action.emailVerificationRequired(user));\n        reject();\n      },\n      onFailure: (error) => {\n        dispatch(Action.emailVerificationFailed(user, error.message));\n        reject();\n      },\n    });\n  });\n\nconst mapStateToProps = state => ({\n  error: state.cognito.error,\n  user: state.cognito.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  verifyPartial: (verificationCode, user) =>\n    verifyEmail(verificationCode, user, dispatch),\n  onCancel: () => dispatch(Action.logout()),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, dispatchProps, {\n    onSubmit: verificationCode =>\n     dispatchProps.verifyPartial(verificationCode, stateProps.user),\n  });\n\n/**\n * Wrapper for an Email Verification Form.\n * Magically adds the following props to the contained form:\n *\n *  * user - the Cognito user from the Redux store\n *  * error - the persisted error from the Redux store\n *  * onSubmit - a handler that calls the Cognito verification API\n *\n * @example\n * <EmailVerification>\n *   <EmailVerificationForm />\n * </EmailVerification>\n *\n */\nexport const EmailVerification = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseEmailVerification);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EmailVerification.jsx","import React from 'react';\nimport { connect } from 'react-redux';\nimport { authenticate } from './auth';\nimport { Action } from './actions';\n\nconst BaseLogin = props =>\n  React.cloneElement(props.children, {\n    username: props.username,\n    email: props.email,\n    onSubmit: props.onSubmit,\n    clearCache: props.clearCache,\n  });\n\nconst mapStateToProps = (state) => {\n  let username = '';\n  if (state.cognito.user) {\n    username = state.cognito.user.getUsername();\n  } else if (state.cognito.userName) {\n    username = state.cognito.cache.userName;\n  }\n  return {\n    username,\n    email: state.cognito.cache.email,\n    config: state.cognito.config,\n    userPool: state.cognito.userPool,\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  authenticator: (username, password, userPool, config) =>\n    authenticate(username, password, userPool, config, dispatch),\n  clearCache: () => dispatch(Action.clearCache()),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, {\n    onSubmit: (username, password) =>\n      dispatchProps.authenticator(username, password, stateProps.userPool, stateProps.config),\n    clearCache: dispatchProps.clearCache,\n  });\n\n/**\n * Container for login behaviour, wrapping a login form.\n *\n * Magically provides the following props to the wrapped form:\n *\n *  * username\n *  * onSubmit\n *\n * @example\n * <Login>\n *   <LoginForm />\n * </Login>\n */\nconst Login = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseLogin);\n\nexport { Login };\n\n\n\n// WEBPACK FOOTER //\n// ./src/Login.jsx","import React, { PropTypes } from 'react';\nimport { Action } from './actions';\n\n/**\n * Container for logout behaviour.\n * @example\n * <Logout onLogout={handler}>\n *   <LogoutForm />\n * </Logout>\n */\nexport class Logout extends React.Component {\n\n  /**\n   * Passed to child element as onClick prop.\n   * Signs the user out, and then dispatches the logout action\n   * If you want to take further actions (like reloading UI) then add an\n   * onLogout property to the Logout element\n   */\n  onClick = (event) => {\n    const { store } = this.context;\n    const state = store.getState();\n    state.cognito.user.signOut();\n    event.preventDefault();\n    store.dispatch(Action.logout());\n    this.props.onLogout();\n  }\n\n  /**\n   * renders the child element, adding an onClick property\n   */\n  render() {\n    return React.cloneElement(this.props.children, {\n      onClick: this.onClick,\n    });\n  }\n}\nLogout.contextTypes = {\n  store: PropTypes.object,\n};\nLogout.propTypes = {\n  children: React.PropTypes.any.isRequired,\n  onLogout: React.PropTypes.func,\n};\nLogout.defaultProps = {\n  onLogout: () => {},\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/Logout.jsx","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Action } from './actions';\n\nconst BaseNewPasswordRequired = props =>\n  React.cloneElement(props.children, {\n    error: props.error,\n    onSubmit: props.onSubmit,\n  });\n\nconst setNewPassword = (password, user, config, userAttributes, dispatch) =>\n  user.completeNewPasswordChallenge(password, userAttributes, {\n    onSuccess: () => dispatch(Action.authenticated(user)),\n    onFailure: error => dispatch(Action.newPasswordRequiredFailure(user, error.message)),\n    mfaRequired: () => dispatch(Action.mfaRequired(user)),\n    newPasswordRequired: () => dispatch(Action.newPasswordRequired(user)),\n  });\n\nconst mapStateToProps = state => ({\n  error: state.cognito.error,\n  user: state.cognito.user,\n  config: state.cognito.config,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNewPasswordPartial: (password, user, config, userAttributes) =>\n    setNewPassword(password, user, config, userAttributes, dispatch),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, {\n    onSubmit: (password, userAttributes) =>\n     dispatchProps.setNewPasswordPartial(\n      password,\n      stateProps.user,\n      stateProps.config,\n      userAttributes),\n  });\n\n/**\n * Wrapper for a New Password Required form\n *\n * Magically provides the following props to the wrapped element:\n *\n * * user - the Cognito user\n * * error - the persistent react-cognito error message\n * * onSubmit - a handler that calls the Set New Password API\n *\n * @example\n *\n * <NewPasswordRequired>\n *   <NewPasswordRequiredForm />\n * </NewPasswordRequired>\n */\nexport const NewPasswordRequired = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseNewPasswordRequired);\n\n\n\n// WEBPACK FOOTER //\n// ./src/NewPasswordRequired.jsx","import React from 'react';\nimport { connect } from 'react-redux';\nimport { CognitoUser } from 'amazon-cognito-identity-js';\nimport { Action } from './actions';\n\nconst BasePasswordReset = props =>\n  React.cloneElement(props.children, {\n    username: props.username,\n    sendVerificationCode: props.sendVerificationCode,\n    setPassword: props.setPassword,\n  });\n\nconst getUser = (username, userPool) => {\n  const user = new CognitoUser({\n    Username: username,\n    Pool: userPool,\n  });\n  return user;\n};\n\nconst setPassword = (username, userPool, code, password, dispatch) =>\n  new Promise((resolve, reject) => {\n    const user = getUser(username, userPool);\n    user.confirmPassword(code, password, {\n      onSuccess: () => {\n        dispatch(Action.finishPasswordResetFlow()),\n        resolve();\n      },\n      onFailure: err => {\n        dispatch(Action.beginPasswordResetFlow(user, err.message)),\n        reject(err);\n      }\n    });\n  });\n\n\nconst sendVerificationCode = (username, userPool, dispatch) =>\n  new Promise((resolve, reject) => {\n    const user = getUser(username, userPool);\n    user.forgotPassword({\n      onSuccess: () => {\n        dispatch(Action.continuePasswordResetFlow(user));\n        resolve();\n      },\n      onFailure: err => {\n        dispatch(Action.beginPasswordResetFlow(user, err.message));\n        reject(err);\n      }\n    });\n  });\n\n\nconst mapStateToProps = (state) => {\n  const props = {\n    user: state.cognito.user,\n    username: '',\n    userPool: state.cognito.userPool,\n  };\n  if (state.cognito.user != null) {\n    props.username = state.cognito.user.getUsername();\n  }\n  return props;\n};\n\nconst mapDispatchToProps = dispatch => ({\n  sendVerificationCodePartial: (username, userPool) =>\n    sendVerificationCode(username, userPool, dispatch),\n  setPasswordPartial: (user, userPool, code, password) =>\n    setPassword(user, userPool, code, password, dispatch),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, {\n    sendVerificationCode: username =>\n      dispatchProps.sendVerificationCodePartial(username, stateProps.userPool),\n    setPassword: (username, code, password) =>\n      dispatchProps.setPasswordPartial(username, stateProps.userPool, code, password),\n  });\n\n/**\n * Container for a Password Reset form\n *\n * Magically provides the following props to the wrapped element:\n *\n *  * user\n *  * username\n *  * sendVerificationCode\n *  * setPassword\n *\n * @example\n * <PasswordReset>\n *   <PasswordResetForm />\n * </PasswordReset>\n */\nexport const PasswordReset = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BasePasswordReset);\n\n\n\n// WEBPACK FOOTER //\n// ./src/PasswordReset.jsx","\n/*\n Default behaviour is to restrict access to only logged in users\n*/\n\nconst testLoggedIn = (state, wantLoggedIn) => {\n  const isLoggedIn = state.cognito.user !== null;\n  if (isLoggedIn && wantLoggedIn) {\n    return true;\n  }\n  if (!isLoggedIn && !wantLoggedIn) {\n    return true;\n  }\n  return false;\n};\n\nconst permitted = (state, expr) =>\n  new Promise((resolve) => {\n    if (expr.loggedIn !== undefined) {\n      resolve(testLoggedIn(state, expr.loggedIn));\n    } else {\n      resolve(testLoggedIn(state, true));\n    }\n  });\n\nconst guard = (store, forbiddenUrl, expr = {}, routeState, replace, callback) => {\n  const state = store.getState();\n  let dest = forbiddenUrl;\n\n  if (expr.forbiddenUrl !== undefined) {\n    dest = expr.forbiddenUrl;\n  }\n  permitted(state, expr).then((allow) => {\n    if (!allow) {\n      replace(dest);\n    }\n    callback();\n  });\n};\n\n/**\n * creates a guard function you can use in <Route> tags\n * @param {object} store - the redux store\n * @param {string} forbiddenUrl - the default url to navigate to if forbidden\n * @returns {function} - a function that can be provided to onEnter\n*/\nconst createGuard = (store, forbiddenUrl) => expr => (state, replace, callback) =>\n  guard(store, forbiddenUrl, expr, state, replace, callback);\n\n\nexport { createGuard };\n\n\n\n// WEBPACK FOOTER //\n// ./src/guard.js","import { Action } from './actions';\nimport { getUserAttributes } from './attributes';\nimport { emailVerificationFlow, performLogin } from './auth';\nimport { CognitoState } from './states';\n\n/**\n * subscribes a \"policy\" function to the store, and calls it\n * with the state and the dispatch function\n * @param {object} store - the redux store\n * @param {function} f - f(state, dispatch)\n*/\nconst enable = (store, f) => {\n  store.subscribe(() => {\n    const state = store.getState();\n    const dispatch = store.dispatch;\n    f(state, dispatch);\n  });\n};\n\n/**\n * requires email verification before transitioning from AUTHENTICATED\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst emailVerificationRequired = (state, dispatch) => {\n  if (state.cognito.state === CognitoState.AUTHENTICATED) {\n    const user = state.cognito.user;\n    getUserAttributes(user).then((attributes) => {\n      if (attributes.email_verified !== 'true') {\n        emailVerificationFlow(user, attributes).then(dispatch);\n      } else {\n        dispatch(Action.loggingIn(attributes));\n      }\n    });\n  }\n};\n\n/**\n * fetches and stores attributes before transitioning from AUTHENTICATED\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst fetchAttributes = (state, dispatch) => {\n  if (state.cognito.state === CognitoState.AUTHENTICATED) {\n    const user = state.cognito.user;\n    getUserAttributes(user).then((attributes) => {\n      dispatch(Action.loggingIn(attributes));\n    });\n  }\n};\n\n/**\n * transitions directly from AUTHENTICATED to LOGGING_IN\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst direct = (state, dispatch) => {\n  if (state.cognito.state === CognitoState.AUTHENTICATED) {\n    dispatch(Action.loggingIn());\n  }\n};\n\n/**\n * logs into the single federated identity pool to transition from LOGGING_IN\n * to LOGGED_IN\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst identityPoolLogin = (state, dispatch) => {\n  if (state.cognito.state === CognitoState.LOGGING_IN) {\n    performLogin(state.cognito.user, state.cognito.config).then(dispatch);\n  }\n};\n\n/**\n * sets up react-cognito with default policies.\n*/\nconst setupCognito = (store, config) => {\n  store.dispatch(Action.configure(config));\n  enable(store, emailVerificationRequired);\n  enable(store, identityPoolLogin);\n};\n\nexport {\n  setupCognito,\n  enable,\n  direct,\n  fetchAttributes,\n  emailVerificationRequired,\n  identityPoolLogin,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/policy.js","import { CognitoUserPool } from 'amazon-cognito-identity-js';\nimport { CognitoState } from './states';\n\n/* global AWS */\n\nconst initial = {\n  user: null,\n  cache: { // cached for post register login\n    userName: null,\n    email: null,\n  },\n  state: CognitoState.LOGGED_OUT,\n  error: '',\n  userPool: null,\n  attributes: {},\n  creds: null,\n  config: {\n    region: null,\n    userPool: null,\n    clientId: null,\n    identityPool: null,\n  },\n};\n\nconst configure = (state, action) => {\n  // surprise side-effect!\n  AWS.config.region = action.config.region;\n  const pool = new CognitoUserPool({\n    UserPoolId: action.config.userPool,\n    ClientId: action.config.clientId,\n  });\n  const user = pool.getCurrentUser();\n  return Object.assign({}, state, {\n    config: action.config,\n    userPool: pool,\n    user,\n  });\n};\n\n// sometimes we don't get the attributes in later parts of the login flow\n// but lets not clobber the ones we've got if we've not got them\nconst addAttributes = (s, attributes) => {\n  const s2 = Object.assign({}, s);\n  if (attributes) {\n    s2.attributes = attributes;\n  }\n  return s2;\n};\n\n/**\n * reducer function to be passed to redux combineReducers\n * @param {object} state\n * @param {object} action\n*/\n\nexport const cognito = (state = initial, action) => {\n  switch (action.type) {\n\n    case 'COGNITO_CONFIGURE':\n      return configure(state, action);\n\n    case 'COGNITO_AUTHENTICATED':\n      return Object.assign({}, state, {\n        user: action.user,\n        cache: {\n          userName: null,\n          email: null,\n        },\n        error: '',\n        state: CognitoState.AUTHENTICATED,\n      });\n\n    case 'COGNITO_CLEAR_CACHE':\n      return Object.assign({}, state, {\n        cache: {\n          userName: null,\n          email: null,\n        },\n      });\n\n    case 'COGNITO_LOGGING_IN':\n      return Object.assign({}, state, {\n        state: CognitoState.LOGGING_IN,\n        attributes: action.attributes,\n      });\n\n    case 'COGNITO_LOGIN':\n      return Object.assign({}, state, addAttributes({\n        error: '',\n        creds: action.creds,\n        state: CognitoState.LOGGED_IN,\n      }, action.attributes));\n\n    case 'COGNITO_LOGOUT':\n      return Object.assign({}, state, {\n        user: null,\n        error: '',\n        creds: null,\n        state: CognitoState.LOGGED_OUT,\n      });\n\n    case 'COGNITO_PARTIAL_LOGOUT':\n      return Object.assign({}, state, {\n        user: null,\n        userName: state.user.username,\n        error: '',\n        creds: null,\n        state: CognitoState.LOGGED_OUT,\n      });\n\n    case 'COGNITO_LOGIN_FAILURE':\n      return Object.assign({}, state, {\n        user: action.user,\n        state: CognitoState.LOGGED_OUT,\n        error: action.error,\n      });\n\n    case 'COGNITO_LOGIN_MFA_REQUIRED':\n      return Object.assign({}, state, {\n        user: action.user,\n        error: '',\n        state: CognitoState.MFA_REQUIRED,\n      });\n\n    case 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED':\n      return Object.assign({}, state, {\n        user: action.user,\n        error: '',\n        state: CognitoState.NEW_PASSWORD_REQUIRED,\n      });\n\n    case 'COGNITO_USER_UNCONFIRMED':\n      return Object.assign({}, state, {\n        user: action.user,\n        state: CognitoState.CONFIRMATION_REQUIRED,\n        cache: {\n          userName: action.user.username,\n          email: action.email\n        },\n      });\n\n    case 'COGNITO_USER_CONFIRM_FAILED':\n      return Object.assign({}, state, {\n        user: action.user,\n        state: CognitoState.CONFIRMATION_REQUIRED,\n        error: action.error,\n      });\n\n    case 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE':\n      return Object.assign({}, state, {\n        error: action.error,\n        state: CognitoState.NEW_PASSWORD_REQUIRED,\n      });\n\n    case 'COGNITO_EMAIL_VERIFICATION_REQUIRED':\n      return Object.assign({}, state, addAttributes({\n        error: '',\n        state: CognitoState.EMAIL_VERIFICATION_REQUIRED,\n      }, action.attributes));\n\n    case 'COGNITO_EMAIL_VERIFICATION_FAILED':\n      return Object.assign({}, state, addAttributes({\n        error: action.error,\n        state: CognitoState.EMAIL_VERIFICATION_REQUIRED,\n      }, action.attributes));\n\n    case 'COGNITO_BEGIN_PASSWORD_RESET_FLOW':\n      return Object.assign({}, state, {\n        error: action.error,\n      });\n\n    case 'COGNITO_CONTINUE_PASSWORD_RESET_FLOW':\n      return state;\n\n    case 'COGNITO_FINISH_PASSWORD_RESET_FLOW':\n      return state;\n\n    // this moves us into the AUTHENTICATED state, potentially causing\n    // a number of side-effects. this is so we can re-verify the email\n    // address if we have to\n    case 'COGNITO_UPDATE_USER_ATTRIBUTES':\n      return Object.assign({}, state, {\n        attributes: Object.assign({}, state.attributes, action.attributes),\n        state: CognitoState.AUTHENTICATED,\n      });\n\n    default:\n      return state;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers.js","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"AWS\",\"commonjs\":\"aws-sdk\",\"commonjs2\":\"aws-sdk\",\"amd\":\"aws-sdk\"}\n// module id = 18\n// module chunks = 0"],"sourceRoot":""}